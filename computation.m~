% Roller Coaster Computations, SU 2020 

clc
clear

%Fill in Header Information
fprintf ('\n**********************************************\n')
fprintf ('*  Group: 1                                    *\n')
fprintf ('*  Roller Coaster Computations, SU 2020        *\n')
fprintf ('*  ENGR1182 Columbus State Community College   *\n')
fprintf ('*  Instructor:  M. Rahimi                      *\n')  
fprintf ('************************************************\n')


%% Computations

heights = [2.65, 2.6, 2.1, 2, 2.4, 2, 1.75, 1.65, 1.5, 1.45, 1.4, 0];
track_length = [0, 0.5, 1.41, 1.55, 2.53, 3.51, 3.86, 4.04, 4.56, 5.19, 6.02, 7.86];
% make sure heights and track length are entered in correctly
assert(length(heights) == length(track_length));


% Constants
mass = 0.00097;  % unit: kg
gravity = 9.81;  % unit: m/s^2

% lists
total_energies = zeros(1, 12);
potential_energies = zeros(1, 12);
kinetic_energies = zeros(1, 12);
velocities = zeros(1, 12);

% At point 0
total_energies(1) = mass * gravity * heights(1);
potential_energies(1) = total_energies(1);
kinetic_energies(1) = 0;
velocities(1) = 0;

% all other points
fprintf("Total energieskinetic energy\n");
fprintf("0: %f\t%.6f\t%.6f\n", total_energies(1), 0, 0);
for i = 2:length(total_energies)
    total_energy = total_energies(i - 1) - (0.0007 * track_length(i));
    kinetic_energy = total_energy - (mass * gravity * heights(i));
    velocity = sqrt((10 * kinetic_energy) / (7 * kinetic_energy));
    % energy cannot be less than 0
    if total_energy < 0
        total_energy = 0;
    end
    if kinetic_energy < 0
        kinetic_energy = 0;
    end
    total_energies(i) = total_energy;
    kinetic_energies(i) = kinetic_energy;
    velocities(i) = velocity;
    fprintf("%d: %f\t%f\t%f\n", i - 1, total_energies(i), kinetic_energies(i), velocities(i));
end
